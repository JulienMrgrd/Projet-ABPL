<div class="result-responses" *ngIf="question">

  <div class="row title-question">
    <section class="section {{(question.image || question.video) ? 'col-md-6' : 'col-md-10'}}">
      <h3 class="font-weight-normal">{{index + 1}}.
        <span [innerHTML]="question.name"></span>
      </h3>
    </section>

    <section class="section col-md-5" *ngIf="question.image">
      <img [src]=getMediaUrl(question.image) class="center-section">
    </section>

    <section class="section col-md-5" *ngIf="question.video">
      <video controls class="center-section">
        <source [src]=getMediaUrl(question.video) type="video/mp4">
        Votre navigateur n'a pas l'air de supporter ce format vidéo...
      </video>
    </section>
  </div>

  <div class="row quiz-choices">
    <section class="section col-md-6 {{disabled ? 'disabled' : ''}}" *ngFor="let option of question.options">
      <div class="form-check" *ngIf="!utils.isSimpleChoice(question)"> <!-- checkboxes -->
        <label>
          <input class="checkbox-{{ utils.isCorrect(question) ? 'green': 'red'}}" type="checkbox" name="check-{{option.id}}" [(ngModel)]="option.selected">
          <div class="label-text">
            <span *ngIf="option.name" [innerHTML]="option.name"></span>
            <img *ngIf="option.image && option.image.length > 0" [src]=getMediaUrl(option.image)>
          </div>
        </label>
      </div>

      <div class="form-check" *ngIf="utils.isSimpleChoice(question)"> <!-- radio buttons -->
        <label>
          <input class="radio-{{ utils.isCorrect(question) ? 'green': 'red'}}" type="radio" [checked]="option.selected">
          <div class="label-text">
            <span *ngIf="option.name" [innerHTML]="option.name"></span>
            <img *ngIf="option.image && option.image.length > 0" [src]=getMediaUrl(option.image)>
          </div>
        </label>
      </div>
    </section>
  </div>
  <div class="m-2 alert alert-response {{ utils.isCorrect(question) ? 'alert-success': 'alert-danger'}}">
      <span *ngIf="!utils.isCorrect(question); else right"><strong>Faux.</strong><br>
        <span [ngPlural]="utils.getAnswers(question).length">
          <ng-template ngPluralCase="=0">La bonne réponse était : "<i>{{utils.getAnswers(question)}}</i>"</ng-template>
          <ng-template ngPluralCase="=1">La bonne réponse était : "<i>{{utils.getAnswers(question)}}</i>"</ng-template>
          <ng-template ngPluralCase="other">Les bonnes réponses étaient : <br>
            <ul class="response-list">
              <li *ngFor="let ans of utils.getAnswers(question)"><i>{{ans}}</i></li>
            </ul>
          </ng-template>
        </span>
      </span>
    <ng-template #right><strong>Vrai.</strong></ng-template>
  </div>
  <div class="m-2 alert alert-dark explanation" *ngIf="question.explanation && question.explanation.length > 0">
    <span><b>Explication :&nbsp;</b></span>
    <span [innerHTML]=question.explanation></span>
    <section class="section" *ngIf="question.explanation_image">
      <img [src]=getMediaUrl(question.explanation_image)>
    </section>

    <section class="section" *ngIf="question.explanation_video">
      <video controls>
        <source [src]=getMediaUrl(question.explanation_video) type="video/mp4">
        Votre navigateur n'a pas l'air de supporter ce format vidéo...
      </video>
    </section>
  </div>
</div>
